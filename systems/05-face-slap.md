# 打臉演出系統規格

## 基本資訊
- **優先級**：Must（爽感爆發點）
- **依賴系統**：忍/用系統、囂張值系統
- **被依賴**：CG 插畫

---

## 1. 設計目標

1. 每次打臉都要讓玩家覺得「爽！」
2. 忍越久，演出越誇張
3. 用表演感彌補像素畫的細節不足

---

## 2. 核心機制

### 演出等級
| 等級 | 觸發條件 | 演出時長 | 表現 |
|------|----------|----------|------|
| 小打臉 | 忍耐 ×0，N/R 卡 | 1.5 秒 | 文字放大 + 輕微震動 |
| 中打臉 | 忍耐 ×1，或 SR 卡 | 3 秒 | 角色表情變化 + 大字「啪！」+ 螢幕閃白 |
| 大打臉 | 忍耐 ×2，或 SSR 卡 | 5 秒 | 全屏演出 + 速度線 + 壞人表情崩潰 + 囂張值條動畫下降 |
| 超級打臉 | 忍耐 ×3 + SSR | 8 秒 | 全屏 CG + 特殊台詞 + 慢動作 + 全場歡呼音效 |

### 演出元素庫
| 元素 | 描述 |
|------|------|
| 文字彈出 | 「啪！」「滾！」「閉嘴！」等大字從中央彈出 |
| 螢幕震動 | 短促震動（小）/ 持續震動（大）|
| 閃白/閃紅 | 全屏閃光表示衝擊 |
| 速度線 | 放射狀線條強調衝擊感 |
| 壞人表情 | 從囂張 → 震驚 → 臉綠 → 冒汗 |
| 囂張值條動畫 | 條快速下降 + 數字跳動 |
| BGM 切換 | 壓抑 BGM → 爽快反擊 BGM |
| 觀眾反應 | 路人表情驚嘆（背景角色）|

### 打臉台詞（依卡牌類型）
| 卡牌類型 | 台詞範例 |
|----------|----------|
| 💼 商業 | 「這份合約第三條，你要不要再看一次？」|
| 🤝 人脈 | 「吳會長，好久不見。朴在成，你認識吳會長嗎？」|
| 📱 情報 | 「這段錄音...要不要讓全公司聽聽？」|
| 💡 智慧 | 「你剛才說的數據，少了一個零吧？」|
| 🎭 演技 | 「哎呀趙哥，我不是故意的...（微笑）」|

---

## 3. 演出流程（大打臉範例）

```
1. 螢幕變暗（0.3s）
2. 主角台詞慢速顯示（1s）
   「你說什麼？再說一次？」
3. 卡牌飛入畫面（0.5s）
4. 大字「啪！」彈出 + 螢幕閃白 + 震動（0.5s）
5. 速度線 + 壞人表情從囂張變驚恐（1s）
6. 囂張值條動畫下降（1s）
7. 主角站姿變自信 + 反擊台詞（1s）
   「朴在成，你的好日子...到頭了。」
8. BGM 高潮段落（持續）
```

---

## 4. 資料結構

```json
SlapScene {
  level: "small"|"medium"|"big"|"super",
  card_used: Card,
  multiplier: float,
  damage: float,
  hero_line: string,
  villain_reaction: string,
  effects: ["screen_shake", "flash_white", "speed_lines"],
  cg_id: string|null        // 超級打臉才有CG
}
```

---

## 5. 迭代計畫

### MVP
- 4 級打臉演出
- 文字彈出 + 震動 + 閃光
- 囂張值條下降動畫

### V1.1
- 壞人表情系統（多張表情切換）
- 更多打臉台詞庫
- Combo 連擊演出

### 未來
- 觀眾互動（配合路人反應）
- 玩家自選打臉台詞
- 打臉回放功能（截圖分享）
