# 忍/用抉擇系統規格

## 基本資訊
- **優先級**：Must（核心差異化賣點）
- **依賴系統**：抽卡系統、囂張值系統
- **被依賴**：打臉演出、章節管理

---

## 1. 設計目標

1. 製造 Push Your Luck 的刺激感
2. 給玩家真正的策略選擇權
3. 「忍到最後一刻再打」= 最爽的體驗

### 非目標
- 不做複雜的卡牌組合系統
- 忍的時候不需要額外操作

---

## 2. 核心機制

### 選擇觸發
每次抽到卡牌後，出現兩個選擇：

**⚡ 用！（Strike）**
- 立即對壞人使用卡牌
- 囂張值減少 = 卡牌基礎值 × 忍耐倍率
- 觸發打臉演出
- 忍耐計數歸零

**🧊 忍！（Endure）**
- 卡牌暫存（最多存 3 張）
- 忍耐計數 +1
- 下次用卡的倍率增加
- 但囂張值繼續上升（風險！）

### 忍耐倍率表
| 忍耐次數 | 倍率 | 效果 |
|----------|------|------|
| 0（直接用）| ×1.0 | 基礎傷害 |
| 1 | ×1.5 | 打臉 + 額外台詞 |
| 2 | ×2.0 | 打臉 + 特殊演出 |
| 3（上限）| ×3.0 | 打臉 + 全屏 CG + 隱藏劇情 |

### 暫存卡牌規則
- 最多同時暫存 3 張
- 暫存滿了必須用（強制出牌）
- 用的時候可以選擇出哪張
- 多張一起用 = 連續打臉 combo

### Combo 機制
| Combo | 觸發條件 | 額外效果 |
|-------|----------|----------|
| 雙重打臉 | 一次出 2 張 | 每張效果 +20% |
| 三連打臉 | 一次出 3 張 | 每張效果 +50% + 特殊CG |

### 風險計算範例
```
場景：囂張值 75%，抽到 R 卡（-15%）

選 A「用」：
  75% - 15% = 60%（安全，但只是小打臉）

選 B「忍」（已忍 1 次）：
  囂張值繼續漲 → 下次壞人事件 +15% = 90%（危險！）
  但下次用卡：R × 2.0 = -30%
  如果再抽到 SR：SR × 2.0 = -50%
  加上之前存的 R：-30% + -50% = -80%（直接清空！超爽！）
  
風險：如果囂張值先到 100%... Game Over
```

---

## 3. 資料結構

```json
EndureState {
  endure_count: int,        // 當前忍耐次數 0-3
  stored_cards: Card[],     // 暫存的卡牌（最多3張）
  multiplier: float,        // 當前倍率
  total_endured: int        // 本章累計忍耐次數（成就用）
}
```

---

## 4. UI/UX 需求

### 選擇介面
- 上方：抽到的卡牌展示
- 中間：當前忍耐倍率提示（「忍耐 ×2 → 下次傷害 200%」）
- 下方：紅色「用！」+ 藍色「忍！」兩個大按鈕
- 按鈕下方小字顯示預估效果

### 回饋
| 事件 | 視覺 | 音效 |
|------|------|------|
| 選「忍」| 卡牌飛入暫存槽 + 藍色波紋 | 沉穩蓄力音 |
| 選「用」| 卡牌飛向壞人 + 紅色衝擊 | 爆發音 |
| 忍耐 ×3（上限）| 暫存槽滿 + 金色脈動 | 壓抑到極限音 |
| 強制出牌 | 暫存槽破裂 + 所有卡飛出 | 解放音 |

---

## 5. 迭代計畫

### MVP
- 忍/用二選一
- 最多存 3 張
- 倍率 ×1.0 / ×1.5 / ×2.0 / ×3.0
- Combo 加成

### V1.1
- 特定卡牌組合觸發隱藏劇情
- 全忍通關成就

### 未來
- 「假裝用」選項（欺騙壞人以為你反擊了）
- 時間限制選擇（倒數 5 秒不選 = 自動忍）
